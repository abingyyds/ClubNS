# Web3.club 前端设计方案

本文档从用户体验角度出发，详细描述了Web3.club域名系统的前端设计方案，包括不同用户角色的功能区分、页面布局和交互设计。

## 一、用户角色与功能分布

Web3.club系统主要面向两类用户：**普通用户**和**管理员/系统所有者**。

### 普通用户功能

普通用户主要关注域名的注册、管理、续费和解析设置：

| 功能模块 | 对应合约函数 | 前端展示 |
|---------|------------|---------|
| **域名查询** | `isValidDomainName`、`getDomainStatus` | 搜索框，状态标签 |
| **域名注册** | `makeCommitment`、`commit`、`register` | 注册流程向导 |
| **域名管理** | `getDomainInfo`、`getTokenId` | 我的域名列表 |
| **域名续费** | `renew`、`addRenewalFunds` | 续费按钮，自动续费设置 |
| **押金管理** | `deposit`、`withdraw`、`userDeposits` | 押金充值/提现界面 |
| **解析设置** | `setRecord`、`setBatchRecords`、`removeRecord` | 解析记录管理面板 |
| **NFT展示** | NFT元数据查看 | 域名NFT展示卡片 |

### 管理员/系统所有者功能

管理员和系统所有者负责系统配置和参数管理：

| 功能模块 | 对应合约函数 | 前端展示 |
|---------|------------|---------|
| **合约配置** | `setNFTContract`、`setGovernanceContract`、`setRegistryContract` | 系统设置面板 |
| **费用设置** | `setBaseYearlyFee`、`setDepositAmount`、`setLateRenewalPenalty` | 价格管理面板 |
| **保留名称** | `addReservedName`、`removeReservedName`、`addReservedNames` | 保留名称管理表格 |
| **管理员管理** | `addAdministrator`、`removeAdministrator` | 管理员列表 |
| **收入提取** | `withdrawContractBalance` | 财务管理面板 |
| **短域名定价** | `setShortNamePremiumFee` | 价格策略设置 |

## 二、前端页面结构设计

### 主要页面规划

1. **首页**：介绍、搜索框、快速入口
2. **域名查询/注册页**：域名查询、状态显示、注册流程
3. **我的域名页**：已注册域名列表、管理入口
4. **域名详情页**：单个域名详细信息、操作入口
5. **解析管理页**：解析记录设置界面
6. **账户中心**：押金管理、交易记录
7. **管理控制台**：仅管理员可见，系统管理功能

### 页面导航结构

```
Web3.club
├── 首页
├── 域名服务
│   ├── 域名查询/注册
│   ├── 我的域名
│   │   └── 域名详情页
│   │       └── 解析管理
│   └── 批量操作
├── 账户中心
│   ├── 押金管理
│   ├── 交易记录
│   └── NFT展示
└── 管理控制台 (管理员可见)
    ├── 系统设置
    ├── 价格管理
    ├── 保留名称
    ├── 管理员管理
    └── 财务管理
```

## 三、页面布局与交互设计

### 1. 首页设计

![首页示意](https://placeholder.com/homepage)

**核心组件**：
- 大型域名搜索框（中央位置）
- 最近注册域名展示
- 功能快速入口卡片
- 服务介绍区域
- 价格展示区域

### 2. 域名查询/注册页

**布局说明**：
- 上部：搜索框
- 中部：搜索结果和域名状态
- 下部：注册流程（分步展示）

**注册流程**：
1. 检查域名可用性
2. 生成提交哈希
3. 提交申请和押金
4. 等待确认（倒计时）
5. 完成注册

**交互设计**：
- 域名状态用不同颜色标签表示
- 使用步骤指示器展示注册进度
- 提供估算费用计算器
- 在等待确认阶段显示倒计时

### 3. 我的域名页

**布局说明**：
- 左侧：筛选条件
- 中部：域名列表（表格或卡片形式）
- 右上：功能按钮（批量操作）

**列表展示信息**：
- 域名名称
- 到期时间
- 状态标签
- 快捷操作按钮

**每行/卡片操作按钮**：
- 续费
- 解析设置
- 自动续费管理
- 查看NFT

### 4. 域名详情页

**布局说明**：
- 顶部：域名信息卡
- 中部：标签页导航
- 下部：根据标签页显示不同内容

**标签页内容**：
1. **基本信息**：注册时间、到期时间、所有者等
2. **解析记录**：所有解析记录表格
3. **续费管理**：续费操作、自动续费设置
4. **NFT详情**：NFT展示、转移记录

**操作按钮**：
- 主要操作（续费、转让）放在顶部醒目位置
- 二级操作（解析编辑、自动续费开关）放在对应标签页

### 5. 解析管理页

**布局说明**：
- 顶部：域名信息提示
- 中部：现有解析记录表格
- 底部：添加新记录表单

**解析记录表格列**：
- 记录类型（A, AAAA, CNAME等）
- 内容值
- 最后更新时间
- 操作按钮（编辑、删除）

**添加记录表单**：
- 记录类型下拉选择
- 根据类型动态变化的输入字段
- 保存/取消按钮

### 6. 账户中心

**布局说明**：
- 左侧：导航菜单
- 右侧：内容区域

**押金管理模块**：
- 当前押金余额展示
- 充值表单
- 提现表单
- 历史交易记录

**NFT展示模块**：
- 域名NFT图片网格展示
- 点击可查看详情
- 提供OpenSea等平台链接

### 7. 管理控制台

**布局说明**：
- 左侧：管理功能导航
- 右侧：内容区域
- 顶部：系统状态概览

**系统设置模块**：
- 合约地址配置表单
- 系统参数设置

**价格管理模块**：
- 价格参数表格
- 修改表单

**保留名称模块**：
- 保留名称列表
- 添加/删除功能
- 批量导入功能

**管理员管理模块**：
- 管理员列表
- 添加/删除管理员表单

## 四、响应式设计与移动端适配

为确保良好的移动端体验，建议以下调整：

1. **导航结构**：移动端使用汉堡菜单
2. **表格展示**：移动端转为卡片式布局
3. **复杂表单**：拆分为多步引导式表单
4. **操作按钮**：使用浮动操作按钮(FAB)集中展示

## 五、技术实现建议

### 前端技术栈

推荐使用以下技术栈：

- **框架**：React/Vue.js
- **UI组件库**：Ant Design或Material-UI
- **Web3交互**：ethers.js或web3.js
- **状态管理**：Redux或Vuex
- **路由**：React Router或Vue Router

### 关键交互流程实现

**域名注册流程**：
```javascript
// 伪代码示例
async function registerDomain(name, owner, secret, duration) {
  // 1. 检查域名可用性
  const isValid = await contractInstance.isValidDomainName(name);
  if (!isValid) return showError("域名不合法");
  
  // 2. 生成提交哈希
  const commitment = await contractInstance.makeCommitment(name, owner, secret);
  
  // 3. 提交申请
  const depositAmount = await governanceContract.depositAmount();
  await contractInstance.commit(commitment, { value: depositAmount });
  
  // 4. 显示倒计时等待
  await waitMinBlockConfirmations();
  
  // 5. 完成注册
  const yearlyFee = await governanceContract.calculateYearlyFee(name);
  const totalFee = yearlyFee.mul(duration);
  await contractInstance.register(name, owner, secret, duration, { value: totalFee });
  
  // 6. 注册成功，更新UI
  showSuccess("域名注册成功");
  navigateTo("/my-domains");
}
```

## 六、前端与合约交互图示

```
┌─────────────┐          ┌────────────────┐          ┌─────────────────┐
│   前端UI    │◄────────►│  Web3Provider  │◄────────►│  智能合约实例   │
└─────────────┘          └────────────────┘          └─────────────────┘
       ▲                                                      ▲
       │                                                      │
       │                                                      │
       ▼                                                      ▼
┌─────────────┐                                     ┌─────────────────┐
│  用户钱包   │◄────────────────────────────────────►│  区块链网络    │
└─────────────┘                                     └─────────────────┘
```

## 七、用户体验优化建议

1. **状态反馈**：所有区块链操作都提供明确的状态反馈
2. **错误处理**：友好的错误提示和恢复建议
3. **预估Gas**：显示操作的预估Gas费用
4. **批量操作**：提供批量域名管理功能
5. **自动保存**：表单自动保存，防止意外丢失
6. **引导流程**：为新用户提供引导式操作体验
7. **主题切换**：支持明/暗主题切换

---

此设计方案提供了Web3.club前端界面的总体框架和关键页面的详细设计建议。实际开发过程中，可根据具体需求调整和优化。 



# Web3Club域名系统前端功能布局

## 普通用户界面

### 1. 域名注册模块
- **搜索域名按钮**: 搜索域名可用性
- **注册域名按钮**: 提交域名注册申请
  - 功能: `commit()` 和 `register()`
  - 输入字段: 域名名称、注册年限、密钥

### 2. 我的域名管理模块
- **域名列表**: 显示用户拥有的所有域名
  - 每个域名显示: 名称、到期时间、状态
- **域名续费按钮**: 为特定域名续费
  - 功能: `renew(name, duration)`
  - 输入字段: 续费年限
- **添加自动续费资金按钮**: 为域名添加自动续费资金
  - 功能: `addRenewalFunds(name)`
  - 输入字段: 金额
- **转移域名按钮**: 转移域名所有权
  - 功能: NFT转移功能
  - 输入字段: 接收方地址

### 3. 资金管理模块
- **当前押金余额**: 显示用户当前押金余额
- **存入押金按钮**: 存入ETH作为押金
  - 功能: `deposit()`
  - 输入字段: 金额
- **提取押金按钮**: 提取可用押金
  - 功能: `withdraw(amount)`
  - 输入字段: 提取金额

## 域名管理员界面

### 1. 域名监控面板
- **域名状态概览**: 显示系统中域名状态统计
  - 活跃域名数量
  - 冻结期域名数量
  - 待回收域名数量

### 2. 域名管理模块
- **过期域名列表**: 显示所有过期域名
  - 过滤选项: 冻结期、回收期
- **回收域名按钮**: 回收符合条件的过期域名
  - 功能: `reclaimExpiredDomain(name)`
- **执行自动续费按钮**: 为有足够资金的域名执行自动续费
  - 功能: `executeAutoRenewal(name, duration)`
  - 输入字段: 续费年限

### 3. 系统信息模块
- **费用信息**: 显示不同长度域名的年费
- **系统参数**: 显示重要系统参数
  - 冻结期长度
  - 回收期长度
  - 最大注册年限

## 用户界面布局建议

### 普通用户首页
```
+------------------------------------------+
|  导航栏: 首页 | 我的域名 | 资金管理 | 登录  |
+------------------------------------------+
|                                          |
|  +----------------------------------+    |
|  |  域名搜索框                      |    |
|  +----------------------------------+    |
|                                          |
|  [ 搜索域名 ]                            |
|                                          |
|  搜索结果: example.web3.club             |
|  状态: 可注册                            |
|  年费: 0.1 ETH                           |
|                                          |
|  [ 注册域名 ]                            |
|                                          |
+------------------------------------------+
```

### 我的域名页面
```
+------------------------------------------+
|  导航栏: 首页 | 我的域名 | 资金管理 | 登录  |
+------------------------------------------+
|                                          |
|  我的域名:                               |
|                                          |
|  +----------------------------------+    |
|  | 域名: alice.web3.club            |    |
|  | 到期时间: 2025-06-01             |    |
|  | 状态: 活跃                       |    |
|  |                                  |    |
|  | [ 续费 ] [ 添加自动续费 ] [ 转移 ]   |
|  +----------------------------------+    |
|                                          |
|  +----------------------------------+    |
|  | 域名: bob.web3.club              |    |
|  | 到期时间: 2024-12-15             |    |
|  | 状态: 冻结期 (剩余15天)          |    |
|  |                                  |    |
|  | [ 续费 ] [ 添加自动续费 ] [ 转移 ]   |
|  +----------------------------------+    |
|                                          |
+------------------------------------------+
```

### 域名管理员页面
```
+------------------------------------------+
|  导航栏: 概览 | 域名管理 | 系统设置 | 登录  |
+------------------------------------------+
|                                          |
|  域名状态概览:                           |
|  - 活跃域名: 1,245                       |
|  - 冻结期域名: 32                        |
|  - 待回收域名: 18                        |
|                                          |
|  过期域名列表:                           |
|  +----------------------------------+    |
|  | 域名      | 状态   | 过期时间    | 操作 |
|  |-----------|--------|------------|------|
|  | test      | 回收期 | 60天前     | [回收]|
|  | demo      | 冻结期 | 10天前     | [--] |
|  | example   | 回收期 | 45天前     | [回收]|
|  +----------------------------------+    |
|                                          |
|  [ 批量回收符合条件域名 ]                 |
|                                          |
+------------------------------------------+
```

这种布局将帮助用户直观地管理他们的域名，同时为管理员提供必要的工具来维护系统。每个按钮都直接对应到合约的功能，使前端和智能合约之间的交互清晰明了。
